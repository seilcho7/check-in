(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){},54:function(e,t,a){e.exports=a(99)},59:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),i=(a(59),a(10)),s=a.n(i),l=a(15),m=a(16),u=a(17),p=a(19),d=a(18),h=a(20),v=(a(27),a(21)),f=a(14),E=a(51),g=a.n(E),b=a(23),w=a.n(b),y=a(34),N=a.n(y),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setRef=function(e){a.webcam=e},a._capture=function(){var e=a.webcam.getScreenshot();a.props.savePicture(e),a.setState({tempPicture:e})},a._date=function(){var e=Date.now(),t=new Date(e).toLocaleString();a.setState({date:t})},a._saveDate=function(){var e=Date.now(),t=new Date(e).toLocaleString();a.setState({saveDate:t})},a._handleClose=function(){a.setState({show:!1})},a._handleShow=function(){a.setState({show:!0})},a.state={date:"",saveDate:"",show:!1,tempPicture:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e._date()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t="http://maps.google.com/maps?q=".concat(this.props.location.lat,", ").concat(this.props.location.lon,"&z=15&output=embed");return o.a.createElement("div",{className:"card"},o.a.createElement("iframe",{className:"card-img-top",title:"map",src:t,frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"},o.a.createElement("a",{href:"https://www.maps.ie/map-my-route/"},"map")),o.a.createElement(g.a,{className:"card-video-top",audio:!1,ref:this.setRef}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},this.state.date),o.a.createElement("p",{className:"card-text"},o.a.createElement("input",{value:this.props.inputValue,onChange:function(t){e.props.handleInput(t.target.value)}})),o.a.createElement("button",{variant:"primary",className:"btn btn-primary",onClick:Object(l.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._capture();case 2:e._handleShow(),e._saveDate();case 4:case"end":return t.stop()}},t)}))},"check!n")),o.a.createElement(w.a,{show:this.state.show,onHide:this._handleClose},o.a.createElement(w.a.Header,{closeButton:!0,onClick:function(){e.props.resetMood()}},o.a.createElement(w.a.Title,null,"post check!n?")),o.a.createElement(w.a.Body,null,o.a.createElement("div",{className:"card"},o.a.createElement("iframe",{className:"card-img-top",title:"map",src:t,frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"},o.a.createElement("a",{href:"https://www.maps.ie/map-my-route/"},"map")),o.a.createElement("img",{src:this.state.tempPicture,className:"card-img-top",alt:"..."}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},this.state.saveDate),o.a.createElement("p",{className:"card-text"},this.props.inputValue)))),o.a.createElement(w.a.Footer,null,o.a.createElement(N.a,{variant:"primary",onClick:function(){e._handleClose(),e.props.submitLocation()}},"post"),o.a.createElement(N.a,{variant:"secondary",onClick:function(){e._handleClose(),e.props.resetMood()}},"cancel"))))}}]),t}(o.a.Component),_=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/api");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.sort(function(e,t){return t.timestamp-e.timestamp}),this.setState({data:n}),console.log(this.state.data);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,this.state.data.map(function(e,t){var a=new Date(e.timestamp).toLocaleString(),n="http://maps.google.com/maps?q=".concat(e.location.lat,", ").concat(e.location.lon,"&z=15&output=embed");return o.a.createElement("div",{key:t,className:"card"},o.a.createElement("iframe",{className:"card-img-top",title:"map",src:n,frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"},o.a.createElement("a",{href:"https://www.maps.ie/map-my-route/"},"map")),o.a.createElement("img",{src:e.picture,className:"card-img-top",alt:"..."}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},a),o.a.createElement("p",{className:"card-text"},e.mood)))}))}}]),t}(o.a.Component),j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e)))._geolocation=function(){"geolocation"in navigator?(console.log("geolocation available"),navigator.geolocation.getCurrentPosition(function(e){a.setState({location:{lat:e.coords.latitude,lon:e.coords.longitude}})})):console.log("geolocation not available")},a._submitLocation=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/api",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:a.state.location,mood:a.state.mood,picture:a.state.picture})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),a.setState({mood:"",picture:""});case 8:case"end":return e.stop()}},e)})),a._handleInput=function(e){a.setState({mood:e})},a._savePicture=function(e){a.setState({picture:e})},a._resetMood=function(){a.setState({mood:""})},a.state={location:{},mood:"",picture:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._geolocation()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(v.b,{basename:"/"},o.a.createElement("div",{className:"title"},o.a.createElement("h2",null,"check!n")),o.a.createElement("ul",{className:"nav justify-content-center"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(v.c,{className:"nav-link",to:"/post"},"Post")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(v.c,{className:"nav-link",to:"/list"},"List"))),o.a.createElement(f.a,{exact:!0,path:"/",component:_}),o.a.createElement(f.a,{path:"/post",render:function(){return o.a.createElement("div",null,o.a.createElement(k,{location:e.state.location,inputValue:e.state.mood,handleInput:e._handleInput,submitLocation:e.state.location!=={}?e._submitLocation:null,submitPicture:e._submitPicture,savePicture:e._savePicture,resetMood:e._resetMood}))}}),o.a.createElement(f.a,{path:"/list",render:function(){return o.a.createElement("div",null,o.a.createElement(_,{data:e.state.data}))}})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(v.a,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,1,2]]]);
//# sourceMappingURL=main.0489470c.chunk.js.map